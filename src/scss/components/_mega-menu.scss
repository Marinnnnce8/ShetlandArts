.mega-menu {
	padding: 87px 50px 25px;
	height: 100vh;
	left: 0;
	width: 100%;
	position: absolute;
	top: 0;
	z-index: 1001;
	overflow-x: hidden;
	overflow-y: auto;
	background-color: transparent;

	&::before {
		background: $black;
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		content: '';
		transform-origin: 0 0;
		transform: scaleY(0);
		z-index: -2;
	}

	.uk-preserve,
	.menu-logo {
		z-index: -1;
		pointer-events: none;
	}

	.uk-preserve,
	.menu-logo,
	.nav-top,
	.nb-menu-close {
		opacity: 0;
	}

	.nb-menu-body {
		padding: 0 140px 0 0;

		li {
			opacity: 0;
			transform: translateY(1rem);

			&:not(.nb-menu-title) a {
				font-size: 16px;
				line-height: 1.1;
			}
		}

		li:nth-child(1) {
			animation-delay: .5s !important;
		}

		li:nth-child(2) {
			animation-delay: .55s !important;
		}

		li:nth-child(3) {
			animation-delay: .6s !important;
		}

		li:nth-child(4) {
			animation-delay: .65s !important;
		}

		li:nth-child(5) {
			animation-delay: .7s !important;
		}

		li:nth-child(6) {
			animation-delay: .75s !important;
		}

		li:nth-child(7) {
			animation-delay: .8s !important;
		}

		li:nth-child(8) {
			animation-delay: .85s !important;
		}

		li:nth-child(9) {
			animation-delay: .9s !important;
		}

		li:nth-child(10) {
			animation-delay: .95s !important;
		}

		li:nth-child(11) {
			animation-delay: 1.01s !important;
		}

		li:nth-child(12) {
			animation-delay: 1.1s !important;
		}

		li:nth-child(13) {
			animation-delay: 1.15s !important;
		}

		li:nth-child(14) {
			animation-delay: 1.2s !important;
		}

		li:nth-child(15) {
			animation-delay: 1.25s !important;
		}

		li:nth-child(16) {
			animation-delay: 1.3s !important;
		}

		li:nth-child(17) {
			animation-delay: 1.35s !important;
		}
	}

	&[aria-hidden='false'] {
		animation: backgroundIn .8s forwards;

		.uk-preserve,
		.menu-logo,
		.nav-top,
		.nb-menu-close {
			animation: opacityIn .35s forwards;
			animation-delay: .6s;
		}

		&::before {
			animation: slideDown .6s cubic-bezier(.77, 0, .175, 1) forwards;
		}

		.nb-menu-body li {
			animation: slideFadeIn .3s .6s forwards;
		}
	}

	&[aria-hidden='true'] {
		background-color: $black;
		animation: backgroundOut forwards;

		.uk-preserve,
		.menu-logo,
		.nav-top,
		.nb-menu-close {
			opacity: 1;
			animation: opacityOut .05s forwards;
		}

		&::before {
			transform: scaleY(1);
			animation: slideUp .8s cubic-bezier(.77, 0, .175, 1) forwards;
		}

		.nb-menu-body {
			li {
				opacity: 1;
				transform: translateY(0);
				animation: slideFadeOut forwards;
			}

			li:nth-child(1) {
				animation-delay: .34s !important;
			}

			li:nth-child(2) {
				animation-delay: .32s !important;
			}

			li:nth-child(3) {
				animation-delay: .3s !important;
			}

			li:nth-child(4) {
				animation-delay: .28s !important;
			}

			li:nth-child(5) {
				animation-delay: .26s !important;
			}

			li:nth-child(6) {
				animation-delay: .24s !important;
			}

			li:nth-child(7) {
				animation-delay: .22s !important;
			}

			li:nth-child(8) {
				animation-delay: .2s !important;
			}

			li:nth-child(9) {
				animation-delay: .18s !important;
			}

			li:nth-child(10) {
				animation-delay: .16s !important;
			}

			li:nth-child(11) {
				animation-delay: .14s !important;
			}

			li:nth-child(12) {
				animation-delay: .12s !important;
			}

			li:nth-child(13) {
				animation-delay: .1s !important;
			}

			li:nth-child(14) {
				animation-delay: .08s !important;
			}

			li:nth-child(15) {
				animation-delay: .06s !important;
			}

			li:nth-child(16) {
				animation-delay: .04s !important;
			}

			li:nth-child(17) {
				animation-delay: .02s !important;
			}
		}
	}

	a {
		color: $white;

		@include hover {
			color: $primary;
		}
	}

	.nb-menu-title {
		font-size: 24px;
		line-height: 90%;
	}

	.menu-logo {
		position: absolute;
		right: 50px;
		bottom: 53px;
	}
}

.nb-menu-title {
	margin-bottom: 30px;
	font-family: $font-alt;
}

.html-menu-active {
	height: 100vh;
	overflow: hidden;

	.open-today {
		color: $white;
	}
}

@keyframes slideDown {
	0% {
		transform: scaleY(0);
	}

	100% {
		transform: scaleY(1);
	}
}

@keyframes slideUp {
	0% {
		transform: scaleY(1);
	}

	100% {
		transform: scaleY(0);
	}
}

@keyframes slideFadeIn {
	0% {
		opacity: 0;
		transform: translateY(1rem);
	}

	100% {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes slideFadeOut {
	0% {
		opacity: 1;
		transform: translateY(0);
	}

	100% {
		opacity: 0;
		transform: translateY(1rem);
	}
}

@keyframes opacityIn {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}

@keyframes opacityOut {
	0% {
		opacity: 1;
	}

	100% {
		opacity: 0;
	}
}

@keyframes backgroundIn {
	0% {
		background-color: transparent;
	}

	100% {
		background-color: $black;
	}
}

@keyframes backgroundOut {
	0% {
		background-color: $black;
	}

	100% {
		background-color: transparent;
	}
}